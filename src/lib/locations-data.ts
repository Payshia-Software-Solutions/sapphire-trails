import { Leaf, Mountain, Bird, Home, Clock, CalendarDays, Ticket, Users, AlertTriangle, Gem, Waves, Landmark, Camera, Tent, Thermometer } from 'lucide-react';

export interface GalleryImage {
  src: string;
  alt: string;
  hint: string;
  is360?: boolean;
}

export interface Highlight {
  icon: string;
  title: string;
  description: string;
}

export interface VisitorInfo {
  icon: string;
  title: string;
  line1: string;
  line2: string;
}

export interface NearbyAttraction {
  icon: string;
  name: string;
  distance: string;
}

export interface Location {
  slug: string;
  title: string;
  cardDescription: string;
  cardImage: string;
  imageHint: string;
  distance: string;
  subtitle: string;
  heroImage: string;
  heroImageHint: string;
  intro: {
    title: string;
    description: string;
    imageUrl: string;
    imageHint: string;
  };
  galleryImages: GalleryImage[];
  highlights: Highlight[];
  visitorInfo: VisitorInfo[];
  map: {
    embedUrl: string;
    nearbyAttractions: NearbyAttraction[];
  };
  category: 'nature' | 'agriculture' | 'cultural';
}

const IMAGE_BASE_URL = 'https://content-provider.payshia.com/sapphire-trail';

// Helper to construct full URL from a relative path
const getFullImageUrl = (path: string | null | undefined) => {
    if (!path || path.startsWith('http') || path.startsWith('data:')) {
        return path || '';
    }
    return `${IMAGE_BASE_URL}${path}`;
};


export const mapServerLocationToClient = (loc: any): Location => ({
  slug: loc.slug,
  title: loc.title,
  cardDescription: loc.card_description,
  cardImage: getFullImageUrl(loc.card_image_url),
  imageHint: loc.card_image_hint,
  distance: loc.distance,
  subtitle: loc.subtitle,
  heroImage: getFullImageUrl(loc.hero_image_url),
  heroImageHint: loc.hero_image_hint,
  intro: {
    title: loc.intro_title,
    description: loc.intro_description,
    imageUrl: getFullImageUrl(loc.intro_image_url),
    imageHint: loc.intro_image_hint,
  },
  galleryImages: (loc.gallery_images || []).map((img: any) => ({ ...img, src: getFullImageUrl(img.image_url), alt: img.alt_text })),
  highlights: loc.highlights || [],
  visitorInfo: loc.visitor_info || [],
  map: {
    embedUrl: loc.map_embed_url,
    nearbyAttractions: loc.nearby_attractions || [],
  },
  category: loc.category,
});


export const natureAndWildlife: Omit<Location, 'category'>[] = [
  {
    slug: "sinharaja-rainforest",
    title: "Sinharaja Rainforest",
    cardDescription: "UNESCO World Heritage Site with rich biodiversity, lush trails, and exotic wildlife.",
    cardImage: "https://content-provider.payshia.com/sapphire-trail/images/img7.webp",
    imageHint: "rainforest canopy",
    distance: "12 km away",
    subtitle: "Nature's Unspoiled Wonder",
    heroImage: "https://content-provider.payshia.com/sapphire-trail/images/img7.webp",
    heroImageHint: "rainforest misty mountains",
    intro: {
        title: "UNESCO World Heritage Wonder",
        description: "Sinharaja Rainforest stands as Sri Lanka’s last viable area of primary tropical rainforest, harboring an extraordinary collection of endemic species. This pristine wilderness covers 11,187 hectares of untouched biodiversity, where ancient trees tower over 45 meters high and rare species thrive in their natural habitat. Experience guided eco-treks through dense canopies, witness endemic bird species, and immerse yourself in one of the world's most biodiverse ecosystems. Perfect for nature enthusiasts, researchers, and adventure seekers looking to connect with pristine wilderness.",
        imageUrl: "https://content-provider.payshia.com/sapphire-trail/images/img6.webp",
        imageHint: "jungle river rocks"
    },
    galleryImages: [
        { src: 'https://content-provider.payshia.com/sapphire-trail/images/img9.webp', alt: 'A trail winding through the Sinharaja rainforest.', hint: 'rainforest path' },
        { src: 'https://content-provider.payshia.com/sapphire-trail/images/img8.webp', alt: 'A beautiful cascading waterfall within the rainforest.', hint: 'jungle waterfall' },
        { src: 'https://content-provider.payshia.com/sapphire-trail/images/img3.webp', alt: 'Sifting for gems in a traditional woven basket.', hint: 'sifting gems' },
        { src: 'https://content-provider.payshia.com/sapphire-trail/images/img1.webp', alt: 'A collection of rough, uncut blue sapphires held in hands.', hint: 'raw sapphires' },
    ],
    highlights: [
        { icon: 'Leaf', title: 'Biodiversity', description: 'Home to 60% of Sri Lanka’s endemic trees and countless rare species.' },
        { icon: 'Mountain', title: 'Guided Hikes', description: 'Expert-led trails through pristine wilderness paths.' },
        { icon: 'Bird', title: 'Bird Watching', description: 'Spot endemic species like the Red-faced Malkoha.' },
        { icon: 'Home', title: 'Eco-Lodging', description: 'Sustainable accommodations within the forest buffer zone.' },
    ],
    visitorInfo: [
        { icon: 'Clock', title: 'Opening Hours', line1: '6:00 AM - 6:00 PM', line2: 'Daily (Weather permitting)' },
        { icon: 'CalendarDays', title: 'Best Time', line1: 'Dec - Apr', line2: 'Dry season recommended' },
        { icon: 'Ticket', title: 'Entry Fees', line1: 'LKR 3,000', line2: 'Foreign visitors' },
        { icon: 'Users', title: 'Local Guides', line1: 'Available', line2: 'Recommended for safety' },
    ],
    map: {
        embedUrl: 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3964.331599863484!2d80.41097967475191!3d6.47915019350791!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3ae3e733465b8399%3A0x84694905085521e4!2sSinharaja%20Forest%20Reserve!5e0!3m2!1sen!2slk!4v1719565538965!5m2!1sen!2slk',
        nearbyAttractions: [
            { icon: 'AlertTriangle', name: "Adam's Peak", distance: '45 km away' },
            { icon: 'Gem', name: 'Gem Mining Site', distance: '15 km away' },
            { icon: 'Waves', name: 'Bopath Falls', distance: '25 km away' },
        ]
    }
  },
  {
    slug: "bopath-ella-falls",
    title: "Bopath Ella Falls",
    cardDescription: "Iconic waterfall famed for its shape, surrounded by lush forest and local eateries.",
    cardImage: "https://content-provider.payshia.com/sapphire-trail/images/img14.webp",
    imageHint: "waterfall jungle",
    distance: "8 km away",
    subtitle: "The Sacred Bo-Leaf",
    heroImage: "https://content-provider.payshia.com/sapphire-trail/images/img14.webp",
    heroImageHint: "jungle waterfall",
    intro: {
        title: "A Natural Masterpiece",
        description: "Bopath Ella, named for its perfect resemblance to a leaf from the sacred Bo tree, is one of Sri Lanka's most iconic waterfalls. Cascading from a height of 30 meters, its beauty is accessible and captivating. The area is well-developed for tourism, offering safe swimming areas and local eateries where you can enjoy a meal with a view. It's a perfect spot for a family outing or a refreshing dip in nature's own infinity pool.",
        imageUrl: "https://content-provider.payshia.com/sapphire-trail/images/img10.webp",
        imageHint: "waterfall rocks"
    },
    galleryImages: [
        { src: 'https://content-provider.payshia.com/sapphire-trail/images/img15.webp', alt: 'Bopath Ella Falls from a distance', hint: 'waterfall distance' },
        { src: 'https://content-provider.payshia.com/sapphire-trail/images/img12.webp', alt: 'People enjoying the water near the falls', hint: 'swimming waterfall' },
        { src: 'https://content-provider.payshia.com/sapphire-trail/images/img13.webp', alt: 'Lush greenery surrounding Bopath Ella Falls', hint: 'jungle greenery' },
        { src: 'https://content-provider.payshia.com/sapphire-trail/images/img11.webp', alt: 'A close-up view of the cascading water at Bopath Ella', hint: 'waterfall close' },
    ],
    highlights: [
        { icon: 'Mountain', title: 'Scenic Beauty', description: 'Enjoy the scenic beauty of the waterfall.' },
        { icon: 'Waves', title: 'Natural Pools', description: 'Take a refreshing swim in the natural pools.' },
        { icon: 'Leaf', title: 'Trekking', description: 'Explore the surrounding lush greenery through trekking.' },
        { icon: 'Home', title: 'Local Culture', description: 'Visit nearby attractions like the Ratnapura Gem Market or the Maha Saman Devale.' },
    ],
    visitorInfo: [
        { icon: 'Clock', title: 'Opening Hours', line1: '6:00 AM - 7:00 PM', line2: 'Daily' },
        { icon: 'CalendarDays', title: 'Best Time', line1: 'May - Sep', line2: 'Wet season' },
        { icon: 'Ticket', title: 'Entry Fees', line1: 'LKR 100 (Locals)', line2: 'LKR 3,000 (Foreign)' },
        { icon: 'Users', title: 'Local Guides', line1: 'Not available', line2: 'Explore at your own pace' },
    ],
    map: {
        embedUrl: 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3962.8361734346296!2d80.3703906747535!3d6.666993193322079!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3ae3bde3525287f3%3A0x7d6a59b6c4b22c71!2sBopath%20Waterfall!5e0!3m2!1sen!2slk!4v1719565985002!5m2!1sen!2slk',
        nearbyAttractions: [
            { icon: 'Gem', name: "Ratnapura Gem Market", distance: '10 km away' },
            { icon: 'Landmark', name: 'Maha Saman Devale', distance: '12 km away' },
        ]
    }
  },
  {
    slug: "udawalawe-national-park",
    title: "Udawalawe National Park",
    cardDescription: "Elephant watching, jeep safaris, and diverse fauna in a vast, scenic landscape.",
    cardImage: "https://content-provider.payshia.com/sapphire-trail/images/img19.webp",
    imageHint: "elephants safari",
    distance: "40 km away",
    subtitle: "A Wild Haven",
    heroImage: "https://content-provider.payshia.com/sapphire-trail/images/img19.webp",
    heroImageHint: "safari jeep elephants",
    intro: {
        title: "Home of the Gentle Giants",
        description: "Udawalawe National Park is an unparalleled destination for wildlife enthusiasts, particularly famous for its large population of Sri Lankan elephants. Spanning 30,821 hectares, the park's open grasslands and reservoir make it easy to spot herds of elephants, water buffalo, deer, and a rich variety of birdlife. Embark on a thrilling jeep safari to get up close with these magnificent creatures in their natural habitat.",
        imageUrl: "https://content-provider.payshia.com/sapphire-trail/images/img16.webp",
        imageHint: "elephant family"
    },
    galleryImages: [
        { src: 'https://content-provider.payshia.com/sapphire-trail/images/img28.webp', alt: 'Safari jeeps by the lake at Udawalawe', hint: 'safari jeeps lake' },
        { src: 'https://content-provider.payshia.com/sapphire-trail/images/img18.webp', alt: 'Herd of elephants at Udawalawe', hint: 'elephant herd' },
        { src: 'https://content-provider.payshia.com/sapphire-trail/images/img20.webp', alt: 'Water buffalo grazing', hint: 'water buffalo' },
        { src: 'https://content-provider.payshia.com/sapphire-trail/images/img21.webp', alt: 'Peacock displaying its feathers', hint: 'peacock bird' },
    ],
    highlights: [
        { icon: 'Mountain', title: 'Jeep Safaris', description: 'Observe elephants and other wildlife on a thrilling jeep safari.' },
        { icon: 'Home', title: 'Elephant Transit Home', description: 'Visit the renowned center for orphaned elephant calves.' },
        { icon: 'Waves', title: 'Udawalawe Reservoir', description: 'Explore the vast reservoir, a lifeline for the park\'s ecosystem.' },
        { icon: 'Bird', title: 'Bird Watching', description: 'A paradise for birdwatchers with numerous resident and migratory species.' },
    ],
    visitorInfo: [
        { icon: 'Clock', title: 'Opening Hours', line1: '6:00 AM - 6:00 PM', line2: 'Daily' },
        { icon: 'CalendarDays', title: 'Best Time', line1: 'May - Sep', line2: 'Dry season' },
        { icon: 'Ticket', title: 'Entry Fees', line1: 'LKR 1,500 (Locals)', line2: 'LKR 8,700 (Foreign)' },
        { icon: 'Users', title: 'Local Guides', line1: 'Available', line2: 'Recommended for safaris' },
    ],
    map: {
        embedUrl: 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1014876.1152065842!2d80.20397793139366!3d6.452693899478335!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3ae408f76901e853%3A0x6d113f954388836!2sUdawalawe%20National%20Park!5e0!3m2!1sen!2slk!4v1719566050519!5m2!1sen!2slk',
        nearbyAttractions: [
            { icon: 'Home', name: 'Udawalawe Elephant Transit Home', distance: 'Adjacent to park' },
            { icon: 'Waves', name: 'Udawalawe Reservoir', distance: 'Inside the park' },
            { icon: 'Landmark', name: 'Sankapala Raja Maha Viharaya', distance: '30 km away' },
            { icon: 'Thermometer', name: 'Madunagala Hot Springs', distance: '20 km away' },
        ]
    }
  },
  {
    slug: "kalthota-doowili-ella",
    title: "Kalthota Doowili Ella",
    cardDescription: "Secluded waterfall, pristine waters and a tranquil atmosphere for nature lovers.",
    cardImage: "https://content-provider.payshia.com/sapphire-trail/images/img23.webp",
    imageHint: "waterfall rocks",
    distance: "27 km away",
    subtitle: "The Dusty Waterfall",
    heroImage: "https://content-provider.payshia.com/sapphire-trail/images/img23.webp",
    heroImageHint: "secluded jungle waterfall",
    intro: {
        title: "A Hidden Gem",
        description: "Known as 'Doowili Ella' or 'Dusty Falls' because its spray resembles a cloud of dust, this secluded waterfall is a reward for the adventurous traveler. Tucked away in Kalthota, it offers a more tranquil and untouched experience compared to more popular falls. The journey to the falls is as beautiful as the destination itself, making it a perfect escape for those seeking peace and natural beauty off the beaten path.",
        imageUrl: "https://content-provider.payshia.com/sapphire-trail/images/img26.webp",
        imageHint: "misty waterfall"
    },
    galleryImages: [
        { src: 'https://content-provider.payshia.com/sapphire-trail/images/img29.webp', alt: 'A wide view of Kalthota Doowili Ella falls', hint: 'waterfall wide' },
        { src: 'https://content-provider.payshia.com/sapphire-trail/images/img24.webp', alt: 'The powerful spray of Doowili Ella falls', hint: 'waterfall spray' },
        { src: 'https://content-provider.payshia.com/sapphire-trail/images/img25.webp', alt: 'Lush green foliage surrounding the waterfall', hint: 'jungle foliage' },
        { src: 'https://content-provider.payshia.com/sapphire-trail/images/img27.webp', alt: 'A serene view of the pool at the base of the falls', hint: 'waterfall pool' },
    ],
    highlights: [
        { icon: 'Camera', title: 'Photography', description: 'Capture the beauty of the waterfall and its surroundings.' },
        { icon: 'Waves', title: 'Swimming', description: 'Enjoy a refreshing swim in the shallow pool at the base of the falls, especially during the dry season.' },
        { icon: 'Leaf', title: 'Nature Exploration', description: 'Observe the diverse flora and fauna in the area.' },
        { icon: 'Tent', title: 'Camping', description: 'Set up a small camp or tent near the falls and enjoy the peaceful atmosphere, especially during cold nights.' },
    ],
    visitorInfo: [
        { icon: 'Clock', title: 'Opening Hours', line1: 'Open all day', line2: '' },
        { icon: 'CalendarDays', title: 'Best Time', line1: 'Apr - Dec', line2: 'Rainy season' },
        { icon: 'Ticket', title: 'Entry Fees', line1: 'No official fee', line2: '' },
        { icon: 'Users', title: 'Local Guides', line1: 'Not available', line2: 'Explore at your own pace' },
    ],
    map: { 
        embedUrl: 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3963.220199723528!2d80.82903747475306!3d6.619098793361836!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3ae4771746279f53%3A0x44619d675e47856d!2sKaltota%20Duwili%20Ella%20Falls!5e0!3m2!1sen!2slk!4v1719566113116!5m2!1sen!2slk',
        nearbyAttractions: [
            { icon: 'Waves', name: 'Kalthota Kuda Doowili Ella Falls', distance: 'Nearby' },
            { icon: 'Landmark', name: 'Uggal Kalthota Ancient Amuna', distance: 'Nearby' },
            { icon: 'Landmark', name: 'Budugala Ruins and Temple', distance: 'Nearby' },
        ]
    }
  },
];

export const locationsData: Location[] = natureAndWildlife.map(location => ({
    ...location,
    category: 'nature',
}));
